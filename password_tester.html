<!DOCTYPE html>
<html>
<head>
<title>Password Strength</title>
<meta charset="utf-8" />
<style>
  :root{
    --bg:#000012;
    --neon-cyan: #00f5ff;
    --neon-pink: #0015ff;
    --neon-green: #00ff99;
    --accent: rgba(0,245,255,0.12);
    --panel: rgba(0,0,0,0.6);
  }
  html,body{height:100%;margin:0;padding:0;background:var(--bg);font-family:'Cambria',monospace;color:var(--neon-green)}
  body{display:flex;align-items:center;justify-content:center}
  canvas#bgCanvas{ position:fixed; top:0; left:0; width:100%; height:100%; z-index:0; display:block }
  .content{ position:relative; z-index:2; padding:80px 60px; text-align:center; width:1200px; max-width:94%; background: rgba(0,0,0,0.25); border-radius:16px; transform: translateY(36px); }
  h1{ font-size:4rem; margin:4px 0 20px; color:var(--neon-cyan); text-shadow:0 0 32px rgba(0,245,255,0.24)}
  input{ padding:20px; width:820px; max-width:88%; font-size:22px; border-radius:14px; border:2px solid rgba(0,245,255,0.18);
    background: rgba(0,0,0,0.6); color: #eaffff; box-shadow:0 10px 50px rgba(0,245,255,0.06); }
  .icon{ width:20px; height:20px; display:inline-block; vertical-align:middle }
  .vis-hidden{ display:none }

  /* UPDATED: Strength text styles - Removed transparency and blue */
  #strength{ font-size:48px; font-weight:900; margin:28px 0; transition: color 0.5s ease; color: var(--neon-green); }
  .no-password { color: var(--neon-green) !important; opacity: 1 !important; text-shadow: 0 0 10px rgba(0, 255, 153, 0.3); }

  #warning,#rank{ font-size:18px; margin:8px 0; }
  #bruteInfo{ margin:12px 0; }
  #crackTime{ font-size:20px; color:#dff; margin-top:10px }

  @keyframes neonBorder {
    0% { border-color: var(--neon-cyan); box-shadow: 0 0 5px var(--neon-cyan), inset 0 0 5px var(--neon-cyan); }
    50% { border-color: var(--neon-pink); box-shadow: 0 0 15px var(--neon-pink), inset 0 0 15px var(--neon-pink); }
    100% { border-color: var(--neon-green); box-shadow: 0 0 5px var(--neon-green), inset 0 0 5px var(--neon-green); }
  }

  #progress-container{ width:820px; max-width:88%; height:36px; margin:26px auto; border-radius:18px; overflow:hidden; background:rgba(255,255,255,0.02); border:2px solid var(--neon-cyan); animation: neonBorder 3s infinite alternate; }

  #progress-bar{ 
    height:100%; 
    width:0%; 
    border-radius:12px;
    transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1), background-color 0.5s linear;
    background-color: #ff6b6b;
  }

  #tips{ margin:18px auto; max-width:800px; background:var(--panel); color:#eaffff; padding:16px; border-radius:10px; border:1px solid rgba(0,245,255,0.04) }

  @media(max-width:1200px){ .content{ width:92%; padding:36px 18px; transform: translateY(24px) } h1{ font-size:2.6rem } input{ width:92% } #progress-container{ width:92% } }
  @media(max-width:700px){ .content{ padding:20px; transform: translateY(12px) } h1{ font-size:1.8rem } input{ width:92% } #progress-container{ width:92% } }
</style>
</head>
<body>
  <a href="index.html" style="
    position: fixed;
    top: 20px;
    left: 20px;
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(10px);
    color: white;
    text-decoration: none;
    padding: 10px 20px;
    border-radius: 50px;
    font-family: 'Segoe UI', sans-serif;
    font-weight: bold;
    font-size: 0.9rem;
    border: 1px solid rgba(255, 255, 255, 0.3);
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    z-index: 1000;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 8px;
">
    <span style="font-size: 1.2rem;">üè†</span> Home
</a>

<style>
    /* Hover effect for the home button */
    a[href="index.html"]:hover {
        background: rgba(255, 255, 255, 0.4);
        transform: scale(1.05);
        box-shadow: 0 6px 20px rgba(0,0,0,0.3);
    }
</style>
  <canvas id="bgCanvas"></canvas>

  <div class="content">
    <h1>PASSWORD STRENGTH TESTER</h1>
    <div style="display:flex;justify-content:center;align-items:center;gap:10px;">
      <input type="password" id="pwd" placeholder="Enter password to analyze..." oninput="checkStrength()" autocomplete="off" style="max-width:720px; width:70%;">
      <button id="togglePwdBtn" aria-pressed="false" aria-label="Show password" style="padding:10px 12px;border-radius:10px;border:1px solid rgba(0,245,255,0.12);background:rgba(0,0,0,0.35);color:var(--neon-cyan);cursor:pointer;display:inline-flex;align-items:center;justify-content:center">
        <svg id="eyeOpen" class="icon vis-hidden" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg">
          <path d="M2.458 12C3.732 7.943 7.523 5 12 5s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S3.732 16.057 2.458 12z"></path>
          <circle cx="12" cy="12" r="3"></circle>
        </svg>
        <svg id="eyeClosed" class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg">
          <path d="M17.94 17.94A10.94 10.94 0 0112 19c-4.478 0-8.268-2.943-9.542-7 .46-1.414 1.19-2.7 2.16-3.8"></path>
          <path d="M1 1l22 22"></path>
          <path d="M9.88 9.88A3 3 0 0014.12 14.12"></path>
        </svg>
      </button>
    </div>
    <div id="strength" class="no-password">No password entered yet</div>
    <div id="warning"></div>
    <div id="rank"></div>

    <div id="bruteInfo">
      <div id="crackTime">Crack Time: --</div>
    </div>

    <div id="progress-container"><div id="progress-bar"></div></div>
    <div id="tips">Enter a password above to see strength analysis, crack time, and security rating!</div>
  </div>

  <script>
const commonPasswords = [
  {pwd: '123456', rank: 1}, {pwd: 'password', rank: 2}, {pwd: '123456789', rank: 3},
  {pwd: '12345678', rank: 4}, {pwd: '12345', rank: 5}, {pwd: '123123', rank: 8},
  {pwd: 'abc123', rank: 9}, {pwd: 'password1', rank: 10}, {pwd: 'iloveyou', rank: 12},
  {pwd: 'qwerty', rank: 14}, {pwd: 'admin', rank: 17}, {pwd: 'letmein', rank: 20},
  {pwd: 'welcome', rank: 22}, {pwd: 'monkey', rank: 24}, {pwd: 'dragon', rank: 28}
];

const ATTEMPTS_PER_SEC = 5000000;
const THRESHOLD_YEARS = 25;
const THRESHOLD_SECONDS = THRESHOLD_YEARS * 31536000;

function formatTime(seconds) {
  if (!isFinite(seconds)) return 'Centuries+';
  if (seconds < 60) return seconds.toFixed(1) + 's';
  if (seconds < 3600) return (seconds/60).toFixed(1) + 'm';
  if (seconds < 86400) return (seconds/3600).toFixed(1) + 'h';
  if (seconds < 31536000) return (seconds/86400).toFixed(0) + 'd';
  return (seconds/31536000).toFixed(0) + 'y';
}

function checkStrength() {
  const pwd = document.getElementById('pwd').value || '';
  const strengthEl = document.getElementById('strength');
  const warning = document.getElementById('warning');
  const rank = document.getElementById('rank');
  const tips = document.getElementById('tips');
  const progressBar = document.getElementById('progress-bar');
  const crackTime = document.getElementById('crackTime');

  if (pwd.length === 0) {
    strengthEl.textContent = 'No password entered yet';
    strengthEl.className = 'no-password';
    strengthEl.style.color = '';
    strengthEl.style.textShadow = '';
    warning.textContent = '';
    rank.style.display = 'none';
    progressBar.style.width = '0%';
    progressBar.style.backgroundColor = '#ff6b6b';
    crackTime.textContent = 'Crack Time: --';
    tips.textContent = 'Enter a password above to see strength analysis!';
    return;
  }

  // 1. Identify Character Set
  let charsetSize = 0;
  if (/[a-z]/.test(pwd)) charsetSize += 26;
  if (/[A-Z]/.test(pwd)) charsetSize += 26;
  if (/\d/.test(pwd)) charsetSize += 10;
  if (/[^A-Za-z0-9]/.test(pwd)) charsetSize += 32;

  // 2. Base Entropy Calculation
  let entropy = pwd.length * Math.log2(charsetSize);

  // 3. APPLY PENALTIES (The Improvement)
  // Penalty for repeats: "aaaaa" is penalized
  const uniqueChars = new Set(pwd).size;
  const repeatRatio = uniqueChars / pwd.length;
  entropy *= (0.5 + (repeatRatio * 0.5)); 

  // Penalty for sequential numbers/letters (e.g., "123", "abc")
  if (/(012|123|234|345|456|567|678|789|abc|bcd|cde|def)/i.test(pwd)) {
    entropy -= 10;
  }

  const entropyBits = Math.max(0, Math.floor(entropy));
  const combinations = Math.pow(charsetSize, pwd.length * (entropyBits / (pwd.length * Math.log2(charsetSize)) || 1));
  const crackSeconds = combinations / ATTEMPTS_PER_SEC;

  // 4. UI Updates (Same logic, improved data)
  const bitDisplay = `(${entropyBits} bits)`;
  let smoothWidth = Math.min(100, (entropyBits / 100) * 100);
  let hue = Math.min(180, (entropyBits / 100) * 180); 
  let dynamicColor = `hsl(${hue}, 80%, 50%)`;

  progressBar.style.width = smoothWidth + '%';
  progressBar.style.backgroundColor = dynamicColor;
  strengthEl.style.color = dynamicColor;
  strengthEl.style.textShadow = `0 0 20px hsl(${hue}, 80%, 30%)`;
  strengthEl.classList.remove('no-password');

  // Common Password Check
  const pwdLower = pwd.toLowerCase();
  const commonMatch = commonPasswords.find(c => pwdLower === c.pwd);
  
  if (commonMatch) {
    strengthEl.textContent = 'COMMON PASSWORD';
    strengthEl.style.color = '#ff4757';
    warning.textContent = 'NEVER USE THIS!';
    rank.style.display = 'block'; 
    rank.textContent = `#${commonMatch.rank} most common`;
    progressBar.style.width = '5%'; 
    crackTime.textContent = 'Crack Time: INSTANT';
    tips.textContent = 'This is a widely known password. Hackers try these first.';
    return;
  }

  // Categorization
  rank.style.display = 'none';
  if (entropyBits < 35) {
    strengthEl.textContent = `Weak ${bitDisplay}`;
    tips.textContent = 'Too simple. Use more unique characters and avoid patterns.';
  } else if (entropyBits < 59) {
    strengthEl.textContent = `Medium ${bitDisplay}`;
    tips.textContent = 'Better. Try adding more length or special symbols.';
  } else if (entropyBits < 127) {
    strengthEl.textContent = `Strong ${bitDisplay}`;
    tips.textContent = 'Great! This is secure against most brute-force attempts.';
  } else {
    strengthEl.textContent = `Excellent ${bitDisplay}`;
    tips.textContent = 'Cyber-fortress level. This would take lifetimes to crack.';
    strengthEl.style.color = 'var(--neon-cyan)';
    progressBar.style.backgroundColor = 'var(--neon-cyan)';
  }

  warning.textContent = '';
  crackTime.textContent = `Crack Time: ${formatTime(crackSeconds)}`;
}

document.addEventListener('DOMContentLoaded', ()=>{
  const pwdInput = document.getElementById('pwd');
  const togglePwdBtn = document.getElementById('togglePwdBtn');
  if (togglePwdBtn && pwdInput){
    const eyeOpen = document.getElementById('eyeOpen');
    const eyeClosed = document.getElementById('eyeClosed');
    togglePwdBtn.addEventListener('click', ()=>{
      const isHidden = pwdInput.type === 'password';
      pwdInput.type = isHidden ? 'text' : 'password';
      eyeOpen.classList.toggle('vis-hidden', !isHidden);
      eyeClosed.classList.toggle('vis-hidden', isHidden);
      pwdInput.focus();
    });
  }
  checkStrength();
});
  </script>

  <script>
  (function(){
    const canvas = document.getElementById('bgCanvas');
    const ctx = canvas.getContext('2d');
    let w = canvas.width = innerWidth;
    let h = canvas.height = innerHeight;
    window.addEventListener('resize', ()=>{ w=canvas.width=innerWidth; h=canvas.height=innerHeight; initParticles(); });
    let particles = [];
    function rand(min,max){ return Math.random()*(max-min)+min }
    function initParticles(){
      particles = [];
      const count = Math.max(40, Math.floor((w*h)/30000));
      for (let i=0;i<count;i++) particles.push({ x: Math.random()*w, y: Math.random()*h, vx: rand(-0.4,0.4), vy: rand(-0.4,0.4), r: rand(1,3) });
    }
    function draw(){
      ctx.clearRect(0,0,w,h);
      ctx.fillStyle = 'rgba(0,0,18,0.6)'; ctx.fillRect(0,0,w,h);
      for (let i=0;i<particles.length;i++){
        let a = particles[i];
        for (let j=i+1;j<particles.length;j++){
          let b = particles[j];
          let d = Math.sqrt((a.x-b.x)**2+(a.y-b.y)**2);
          if (d < 150){ ctx.strokeStyle = `rgba(0,245,255,${0.08*(1-d/150)})`; ctx.beginPath(); ctx.moveTo(a.x,a.y); ctx.lineTo(b.x,b.y); ctx.stroke(); }
        }
        a.x+=a.vx; a.y+=a.vy;
        if (a.x<0||a.x>w) a.vx*=-1; if (a.y<0||a.y>h) a.vy*=-1;
        ctx.fillStyle='rgba(0,245,255,0.8)'; ctx.beginPath(); ctx.arc(a.x,a.y,a.r,0,Math.PI*2); ctx.fill();
      }
      requestAnimationFrame(draw);
    }
    initParticles(); draw();
  })();
  </script>
</body>
</html>
